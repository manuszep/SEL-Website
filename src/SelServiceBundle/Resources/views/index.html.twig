{% extends 'base.html.twig' %}
{% import "Macros/icons.html.twig" as icons %}

{% block title %}Les services{% endblock %}

{% block header %}
    <header class="page-header has-block inline-heading angle-intro angle-reverse">
        <div class="wrapper">
            <h1>Les services</h1>
            {{ icons.iconlink('print', 'Imprimer', path('sel_service_index', { 'print_list': 1 }), 'btn') }}
        </div>
    </header>
{% endblock %}

{% block body %}
    <section class="service-list">
        <div class="wrapper">
            <div class="filters header-block service-filters">
                <form method="get" action="{{ path('sel_service_index') }}" class="grid">
                    <div class="grid-item grid-item-2-4-medium-up">
                        {{ form_label(filter.type) }}
                        {{ form_widget(filter.type) }}
                        {{ form_errors(filter.type) }}
                    </div>
                    <div class="grid-item grid-item-2-4-medium-up">
                        {{ form_label(filter.domain) }}
                        {{ form_widget(filter.domain) }}
                        {{ form_errors(filter.domain) }}
                    </div>
                    <div class="grid-item grid-item-2-4-medium-up">
                        {{ form_label(filter.category) }}
                        {{ form_widget(filter.category) }}
                        {{ form_errors(filter.category) }}
                    </div>
                    <div class="grid-item grid-item-2-4-medium-up">
                        <button id="filter_submit" type="submit" name="submit-filter">Filtrer</button>
                    </div>
                </form>
            </div>
            {% if is_granted('ROLE_USER') %}
            <div class="alert alert-danger text-center" role="alert" style="margin-bottom: 4em;margin-top:-2em;">
                <p><strong>Accès à l'ancien site</strong> : Vous pouvez consulter la liste de vos offres et demandes sur l'ancien site à l'adresse <a href="http://retro.boutsdefisel.be">retro.boutsdefisel.be</a></p>
                <p>Il est à présent impossible d'y introduire ou d'y modifier du contenu.</p>
            </div>
            {% endif %}
            {% if services  is empty %}
                <p class="text-center lead">La recherche que vous avez effectuée n'a retourné aucun résultat.</p>
            {% else %}
            <div class="grid masonry">
                {% for service in services %}
                    {% include 'SelServiceBundle::serviceItem.html.twig' with {'service': service} %}
                {% endfor %}
            </div>
            {% endif %}
            {{ knp_pagination_render(services) }}
        </div>
    </section>
{% endblock %}
